2009-08-10  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* chrome/content/sogo-connector/general/sync.addressbook.groupdav.js:
	modified to handle "valid-sync-token" synchronization errors.

	* chrome/content/sogo-connector/calendar/calendar-summary-dialog.xul:
	new version of the overlay, only for including utils.js and
	thereby have access to our version of isCalendarWritable.

	* js/CalDAVAclManager.js: we remove the entries pertaining to
	subitems when a refresh occurs on a calendar entry.

2009-08-07  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	*
	chrome/content/sogo-connector/calendar/calendar-summary-dialog.{js,xul}:
	removed overlays, modified code put back in Lightning (inverse edition).

2009-07-21  Ludovic Marcotte  <lmarcotte@inverse.ca>

	* chrome/content/sogo-connector/general/vcards.utils.js
	We now keep custom fields between roundtrips.
	See http://www.scalableogo.org/bugs/view.php?id=32

2009-07-19  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* chrome/content/sogo-connector/calendar/utils.js: overriden
	"openDialog" to force a refresh of the item calendar before
	displaying the dialog IF the item is an invitation or is read-only.

2009-07-17  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	*
	chrome/content/sogo-connector/calendar/calendars-list-overlay.js:
	fixed an exception occuring when no calendar is selected.

	* chrome/content/inverse-library/sogoWebDAV.js: fixed a bug
	occuring in the XML to JSON converter when the parsed response is
	not flattened.

	* js/CalDAVAclManager.js: we trigger the
	"caldav-component-acl-loaded" or "caldav-component-acl-reset" to
	notify observers that the event entries are ready.

2009-07-15  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	*
	chrome/content/sogo-connector/calendar/calendar-event-dialog.xul:
	fix the privacy label of the privacy statusbar item.

2009-07-09  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* chrome/content/sogo-connector/calendar/calendars-list-overlay.js:
	don't enable the "new items" buttons when the selected calendar is
	marked as read-only.

2009-07-08  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* js/CalDAVAclManager.js: we pass the url of the calendar as data
	argument on every request, for error management. For errors >= 498,
	we remove the entry but for errors > 399, we keep it and mark it
	as lacking ACL support.

2009-07-07  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* js/CalDAVAclManager.js: trigger a "caldav-acl-reset"
	notification where the status code returned by the server is >
	399. This enables listeners to take action when the request chain
	is aborted.

2009-07-06  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* js/CalDAVAclManager.js: trigger the "caldav-acl-loaded"
	notification only when the second address set is received.

2009-07-02  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	*chrome/content/sogo-connector/addressbook/addressbook.groupdav.overlay.js,
	chrome/content/sogo-connector/general/sync.addressbook.groupdav.js:
	save preferences as soon as a list has been modified to avoid
	duplication when a crash occurs.

2009-07-01  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	*
	chrome/content/sogo-connector/general/sync.addressbook.groupdav.js:
	it may happen that we are returned a card we already have "as new"
	and with a different version number than the one we have. In and
	only in that case, we update the card/list so that we don't lose
	updates.
	* chrome/content/sogo-connector/general/preference.service.addressbook.groupdav.js:
	removed obsolete preferences

	* js/CalDAVAclManager.js: we become a bit more foolprop when an
	XMLHttpRequest fails for a reason or another and delete the
	corresponding entry so that the request can happen again.

2009-06-30  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	*chrome/content/sogo-connector/addressbook/preferences.addressbook.groupdav.js:
	removed "display synchronization dialog" from groupdav addressbook
	settings window.
	chrome/content/sogo-connector/general/sync.addressbook.groupdav.js:
	fixed a bug where list downloads would tranmis the tag
	"vcard-download" instead of "list-download", preventing the
	downloaded lists from being created or updated.

2009-06-23  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* chrome/content/sogo-connector/general/sync.addressbook.groupdav.js:
	refactored code and added support for webdav sync spec.

2009-06-22  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* chrome/content/inverse-library/sogoWebDAV.js: modified to
	convert a result set returned as XML to a javascript structure of
	objects.

2009-06-10  Francis Lachapelle  <flachapelle@inverse.ca>

	* chrome/content/sogo-connector/general/vcards.utils.js: fixed the
	telephone attribute mapping.

2009-06-10  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* chrome/content/sogo-connector/addressbook/addressbook.groupdav.overlay.js:
	restored the ability to synchronize addressbook while the
	selection is currently in the results pane (right list).

	* chrome/content/sogo-connector/general/sync.addressbook.groupdav.js:
	refactored the code and added support for ctag-based synchronisation.

	* chrome/content/sogo-connector/general/preference.service.addressbook.groupdav.js:
	added methods for saving and retrieving the ctag of ab collections.

	* chrome/content/sogo-connector/general/implementors.addressbook.groupdav.js:
	removed obsolete module.

2009-04-06  Ludovic Marcotte <lmarcotte@inverse.ca>

        * Bumped version number to 0.93

2009-03-18  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* chrome/content/sogo-connector/general/sync.addressbook.groupdav.js:
	reset the status of pending connections if an error occurs during
	a collection operation.

2009-03-17  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* chrome/content/sogo-connector/addressbook/addressbook.groupdav.overlay.js
	(deleteManager): we invoke "deleteDirectory" after
	deletedSelectedCards, to ensure the list is deleted properly.

2009-03-16  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* chrome/content/sogo-connector/general/vcards.utils.js: properly
	decode fields with base64 encoding.
	Work-around a bug of qp encoders which fold lines without escaping
	their crlf.

2009-02-23  Ludovic Marcotte <lmarcotte@inverse.ca>

        * Updated German translation. Patch from
	Alexander Greiner-Baer <sogo-algb@freenet.de>
	* Added Italian translation. Patch from
	Marco Lertora <marco.lertora@infoporto.it>

2009-01-13  Ludovic Marcotte  <lmarcotte@inverse.ca>

        * js/CalDAVAclManager.js
	We now correctly handle the deletion of identities
	with the "caldav_*" key from the user's preferences. 
	We also correctly reinitialize our ivars prior
	to perform a refresh of the ACLs.

2008-12-19  Ludovic Marcotte  <lmarcotte@inverse.ca>

	* js/CalDAVAclManager.js
	Reidented the code. Also modified _appendIdentity()
	to NOT set any imip.identity to the corresponding
	calendar. This is not reliable and the code has
	been moved directly to getProperty() in
	calDavCalendar.js from Lightning.
	* chrome/content/sogo-connector/addressbook/autocomplete-common.js
	We now override ComposeLoad() so that we correctly show
	the "comment" field even when we first compose a message
	See https://bugzilla.mozilla.org/show_bug.cgi?id=227903.

2008-12-03  Ludovic Marcotte  <lmarcotte@inverse.ca>	

	* Added the possibility to refresh CalDAV ACLs
	* Removed the "supportsACLs" variable - we now
	entirely use hasAccessControl.

2008-11-28  Ludovic Marcotte  <lmarcotte@inverse.ca>

	* chrome/content/sogo-connector/calendar/calendars-list-overlay.js
	We now correctly enable the new task / event upon startup
	once the ACLs are loaded.
	* chrome/content/sogo-connector/lightning/messenger-overlay-sidebar.js
	Removed all the unused code. The whole overlay should be
	eventually removed.
	* js/CalDAVAclManager.js 
	We now force them imip.identity once the ACLs are loaded.
	* Bumped the version number to to.90pre22.

2008-11-26  Ludovic Marcotte  <lmarcotte@inverse.ca>

        * js/CalDAVAclManager.js remove unnecessary calls
	to dump() and we now correctly set the identity
	of all calendars, even for those we don't own.
	* Bumped the version number to 0.90pre21

2008-11-24  Ludovic Marcotte  <lmarcotte@inverse.ca>

	* chrome/content/sogo-connector/addressbook/edit-list-overlay.js
	We fallback to the messenger window if the ab window isn't available

2008-11-23  Ludovic Marcotte  <lmarcotte@inverse.ca>	

	* chrome/content/sogo-connector/lightning/lightning-calendar-properties-overlay.js
	We now correctly select the menupopup item (first one)
	* Bumped the version number to 0.90pre19

2008-11-16  Ludovic Marcotte  <lmarcotte@inverse.ca>

	* /content/sogo-connector/addressbook/addressbook.groupdav.overlay.js
	Replaced calls to deleteCards() / deleteDirector() with
	deleteSelectedCards() to avoid refresh problems
	* chrome/content/sogo-connector/addressbook/edit-list-overlay.js
	We really get the address book window before trying to perform
	a DAV operation.
